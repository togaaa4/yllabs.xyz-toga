---
import DiscordActivity from "../discord-activity/discord-activity";
import ElementGlow from "../ui/element-glow.astro";
---

<div class="relative backdrop-blur-md bg-white/30 dark:bg-black/10 border border-black/10 dark:border-white/10 rounded-xl p-6 min-h-[9rem] overflow-hidden">
  <!-- Grain overlay -->
  <div
    class="absolute inset-0 opacity-[0.05] dark:opacity-[0.1] pointer-events-none"
    style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iLjc1IiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMSAwIDAgMCAwIDEgMCAwIDAgMCAxIDAgMCAwIDAuNSAwIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiIGZpbHRlcj0idXJsKCNhKSIvPjwvc3ZnPg==');"
  ></div>

  <h3 class="text-lg font-bold mb-4 flex items-center gap-2 text-theme-foreground dark:text-white">
    Current Activity
  </h3>

  <!-- React DiscordActivity hydrated on page load -->
  <DiscordActivity client:load />

  <!-- Glow effect -->
  <ElementGlow class="animate-pulse-slow" />
</div>

<style>
@keyframes pulse-slow {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.02); }
}

.animate-pulse-slow {
  animation: pulse-slow 2s infinite ease-in-out;
}
</style>
